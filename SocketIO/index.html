<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="UTF-8">
	<title>Socket.io</title>
</head>
<body>
	<h1>Communication avec Socket.io</h1>
	<p>Coucou !!</p>
	<p> <input type="button" value="HELP" id="poke" /></p>

<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
<script src="/socket.io/socket.io.js"></script>
<script>
	// On se connecte au port 3000
	var socket = io.connect('http://localhost:3000');

	// Ecoute si le serveur envoie un message au client
	socket.on('message', function(message){
		alert(message);
	});

	// Au clic sur le bouton HELP, le client envoie un message au serveur
	$('#poke').on('click', function(){
		socket.emit('message', 'MAYDAY, MAYDAY !!');
	});

	// Le client renseigne le pseudo via un prompt qu'on stocke dans la var pseudo
	var pseudo = prompt('Quel est votre pseudo ?');

	// On envoie le pseudo au serveur
	socket.emit('petit_nouveau', pseudo);

</script>
</body>
</html>